<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–†—É–ª–µ—Ç–∫–∞ Telegram</title>
<style>
body {
    margin: 0;
    background: radial-gradient(circle at center, #111, #000);
    color: #fff;
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
}

#demoSwitch {
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 16px;
}

#slots {
    display: flex;
    gap: 20px;
    margin-bottom: 50px;
}

.slot {
    width: 80px;
    height: 80px;
    font-size: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #222;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0,255,255,0.5);
    border: 2px solid #4facfe;
}

button {
    padding: 15px 35px;
    font-size: 22px;
    border: none;
    border-radius: 20px;
    background: linear-gradient(to right, #4facfe, #00f2fe);
    color: white;
    cursor: pointer;
    transition: transform 0.1s, box-shadow 0.2s;
}

button:hover {
    box-shadow: 0 0 20px #4facfe;
}

button:active {
    transform: scale(0.95);
}

</style>
</head>
<body>

<label id="demoSwitch">–î–µ–º–æ: <input type="checkbox" id="demo" checked></label>

<div id="slots">
    <div id="slot1" class="slot">üéÅ</div>
    <div id="slot2" class="slot">üêª</div>
    <div id="slot3" class="slot">ü•Ç</div>
</div>

<button id="spin">–ö—Ä—É—Ç–∏—Ç—å üé∞</button>

<script>
const SLOTS = ["üéÅ","üêª","ü•Ç"];
const slot1 = document.getElementById("slot1");
const slot2 = document.getElementById("slot2");
const slot3 = document.getElementById("slot3");
const spinBtn = document.getElementById("spin");
const demoCheckbox = document.getElementById("demo");

function randomSlot() {
    return SLOTS[Math.floor(Math.random() * SLOTS.length)];
}

// –ê–Ω–∏–º–∞—Ü–∏—è –∫—Ä—É—á–µ–Ω–∏—è —Å–ª–æ—Ç–æ–≤ —Å –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ–º
function spinSlotsAnimation(callback) {
    const steps = 30; // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤ –∞–Ω–∏–º–∞—Ü–∏–∏
    let currentStep = 0;
    let interval = setInterval(() => {
        slot1.textContent = randomSlot();
        slot2.textContent = randomSlot();
        slot3.textContent = randomSlot();

        // –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ
        currentStep++;
        if(currentStep >= steps) {
            clearInterval(interval);
            if(callback) callback();
        }
    }, 50 + currentStep*2); // —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –∑–∞–º–µ–¥–ª–µ–Ω–∏—è
}

spinBtn.onclick = () => {
    if(demoCheckbox.checked){
        spinSlotsAnimation();
    } else {
        // –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º - –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç—É —á–µ—Ä–µ–∑ WebApp
        if(window.Telegram && window.Telegram.WebApp){
            spinSlotsAnimation(() => {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –±–æ—Ç—É –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
                window.Telegram.WebApp.sendData("pay_spin");
            });
        } else {
            alert("‚ö† –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç —Å–∞–π—Ç —á–µ—Ä–µ–∑ Telegram WebApp!");
        }
    }
};
</script>

</body>
</html>

