<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–†—É–ª–µ—Ç–∫–∞ Telegram</title>
<style>
body {
    margin: 0;
    background: radial-gradient(circle at center, #111, #000);
    color: #fff;
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
}
#demoSwitch { position: absolute; top: 20px; right: 20px; font-size: 16px; }
#slots { display: flex; gap: 20px; margin-bottom: 50px; }
.slot {
    width: 100px;
    height: 100px;
    font-size: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #1c1c1c, #222);
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(0,255,255,0.5), inset 0 0 10px rgba(0,255,255,0.2);
    border: 2px solid #4facfe;
    transition: transform 0.2s;
}
button {
    padding: 15px 50px;
    font-size: 24px;
    border: none;
    border-radius: 25px;
    background: linear-gradient(to right, #4facfe, #00f2fe);
    color: white;
    cursor: pointer;
    transition: transform 0.1s, box-shadow 0.3s;
}
button:hover { box-shadow: 0 0 25px #4facfe, 0 0 50px #00f2fe; }
button:active { transform: scale(0.95); }
</style>
</head>
<body>

<label id="demoSwitch">–î–µ–º–æ: <input type="checkbox" id="demo" checked></label>

<div id="slots">
    <div id="slot1" class="slot">üéÅ</div>
    <div id="slot2" class="slot">üêª</div>
    <div id="slot3" class="slot">ü•Ç</div>
</div>

<button id="spin">–ö—Ä—É—Ç–∏—Ç—å üé∞</button>

<script>
const SLOTS = ["üéÅ","üêª","ü•Ç"];
const slot1 = document.getElementById("slot1");
const slot2 = document.getElementById("slot2");
const slot3 = document.getElementById("slot3");
const spinBtn = document.getElementById("spin");
const demoCheckbox = document.getElementById("demo");

// –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π —Å–ª–æ—Ç
function randomSlot() { return SLOTS[Math.floor(Math.random()*SLOTS.length)]; }

// –∞–Ω–∏–º–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ —Å –ø–ª–∞–≤–Ω—ã–º –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ–º
function spinSlotsAnimation(callback) {
    let steps = 50, current = 0;
    let speed = 30;

    const interval = setInterval(() => {
        slot1.textContent = randomSlot();
        slot2.textContent = randomSlot();
        slot3.textContent = randomSlot();

        current++;
        speed += 3; // –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–º–µ–¥–ª—è–µ–º
        if(current > steps) {
            clearInterval(interval);
            if(callback) callback();
        }
    }, speed);
}

// –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É
spinBtn.onclick = () => {
    spinBtn.disabled = true; // –±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –≤–æ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏
    if(demoCheckbox.checked){
        spinSlotsAnimation(() => {
            alert("üé∞ –î–µ–º–æ-—Ä–µ–∂–∏–º: —Å–ª–æ—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è!");
            spinBtn.disabled = false;
        });
    } else {
        if(window.Telegram && window.Telegram.WebApp){
            spinSlotsAnimation(() => {
                window.Telegram.WebApp.sendData("pay_spin");
                spinBtn.disabled = false;
            });
        } else {
            alert("‚ö† –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ –Ω–µ —á–µ—Ä–µ–∑ Telegram!");
            spinBtn.disabled = false;
        }
    }
};
</script>
</body>
</html>
